<div class="media" ng-init="showAllKeyPoints= false;showFullSummary = false;">
    <div class="media-left">
        <!--<img ng-src="[[ images[0] ]]" class="media-object" style="width:60px">-->
    </div>
    <div class="media-body">
        <div class="col-md-3 media-box-title">
            <h4 class="media-heading media-box-heading" random-text-color>[[ title ]]</h4>
            <hr />
        </div>
        <div class="col-md-9">
            <div class="keywords">
                <div class="keywords-list-group">
                    <span ng-repeat="point in keywords track by $index">
                        <a class="keywords-list-item" ng-href="# + point.replace(' ' , '_')" ng-class="{'even' : $index % 2==0}"
                          random-text-color>[[ point[0] ]]</a><span class="keywords-separtor">|</span>
                    </span>
                </div>
            </div>
        </div>
        <hr />
        <div class="row media-box-holder">
            <div class="col-md-9 col-sm-12">
                <div class="col-md-4" 
                     ng-show="images.length > 0">
                    <img class="media-box-image" src="[[ images[0] ]]" onerror="this.onerror=null;this.src='/static/Images/Logo_pokhi.png';" />

                    <div ng-show="showFullSummary == true">
                        <div class="wiki-feed-col col col-md-12 col-sm-12" ng-repeat="i in [1,2,3]">
                            <div class="wiki-feed-gallery" ng-repeat="image in  safeSlice(images,i*3,i*3+3) ">
                                <img class="media-box-image" data-original="[[ image ]]" alt="loading..." ng-init="LazyLoadInstance.update();">
                            </div>
                        </div>
                    </div>
                </div>
                     
                <div class="limited-content media-box-summary animate slide-down"
                     ng-class="{'col-md-8' : images.length > 0 ,  'col-md-12' : images.length == 0}"
                     ng-click="showFullSummary = !showFullSummary"
                     ng-show="summary.length > 120 && showFullSummary != true">
                    <highlight-text text="summary.substr(0,720)" highlight="keywords"></highlight-text> 
                    <h3>....</h3>
                </div>

                <div class="animate slide-top"
                     ng-show="summary.length <= 120 || showFullSummary == true"
                     ng-click="showFullSummary = !showFullSummary; scrollToTop();">
                    <div ng-class="{'col-md-4' : images.length > 0,  'col-md-1' : images.length == 0}" ng-show="images.length > 0">
                       
                    </div>
                    <div ng-class="{'col-md-8' : images.length > 0 ,  'col-md-12' : images.length == 0}">
                        <div class="limited-content media-box-content">
                            <highlight-text text="content" highlight="keywords" create-summary="true"></highlight-text>
                            <hr>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-12">
                <div class="keypoints">
                    <div class="keypoints-list-group list-group">
                        <div class="keypoints-list-item list-group-item" ng-repeat="point in safeSlice(keypoints , 0,3)">
                            
                                <a href="#" random-text-color><span class="glyphicon glyphicon-fire"></span>&nbsp;[[ point[0] ]]</a>


                        </div>
                        <div ng-click="showAllKeyPoints = !showAllKeyPoints"
                             ng-show="keypoints.length > 3 && showAllKeyPoints == false"
                             class="list-group-item">
                            <center>[[ keypoints.length - 3]] More <span class="glyphicon glyphicon-chevron-down"></span></center>
                        </div>
                        <div class="keypoints-list-item list-group-item animate slide-down"
                             ng-repeat="point in safeSlice(keypoints , 3,keypoints.length)"
                             ng-show="showAllKeyPoints == true">
                            <span class="glyphicon glyphicon-fire">
                                <!--<a ng-click="$parent.showGoogleModal(point[0])">[[ point[0] ]]</button>-->
                                <a href="#" random-text-color>[[ point[0] ]]</a>

                            </span>
                        </div>
                        <div ng-click="showAllKeyPoints = !showAllKeyPoints"
                             ng-show="showAllKeyPoints == true"
                             class="list-group-item">
                            <center><span class="glyphicon glyphicon-chevron-up"></span></center>
                        </div>
                       
                    </div>
                </div>
            </div>

        </div>

    </div>

</div>